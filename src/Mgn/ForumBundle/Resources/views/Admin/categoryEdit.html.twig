{% extends "MgnForumBundle::admin.html.twig" %}

{% block pagetitle %}Les forums{% endblock %}

{% block title %}
    Modifier une catégorie - {{ parent() }}
{% endblock %}

{% block sidebar_forums %}nav-expanded nav-active{% endblock %}

{% block arianne %}
    {{ parent() }}
        </li>
        <li>
            Modifier une catégorie
{% endblock %}

{% block forum_body %}

	{% for message in app.session.flashbag.get('success') %}
	<div class="alert alert-primary">
    	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        {{ message }}
    </div>
    {% endfor %}

    {{ form_start(formCategory, {'attr': {'class': 'form-horizontal mb-lg'}}) }}

		{{ form_errors(formCategory) }}

		<section class="panel">

            <header class="panel-heading">

                <h2 class="panel-title">Modifier la catégorie : {{ category.name }}</h2>

            </header>

           	<div class="panel-body">

				<div class="form-group{% if form_errors(formCategory.name) %} has-error{% endif %}">
					{{ form_label(formCategory.name, "Nom", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(formCategory.name) }}
                    <div class="col-sm-9">
						{{ form_widget(formCategory.name, {'attr': {'class': 'form-control'}}) }}
						<p class="help-block">Ce nom est utilisé pour définir un groupe de forums.</p>
					</div>
				</div>

				<div class="form-group{% if form_errors(formCategory.sort) %} has-error{% endif %}">
					{{ form_label(formCategory.sort, "Ordre", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(formCategory.sort) }}
                    <div class="col-sm-9">
						{{ form_widget(formCategory.sort, {'attr': {'class': 'form-control'}}) }}
						<p class="help-block">L'ordre permet d'organiser l'affichage de vos différentes catégories.</p>
					</div>
				</div>

				<div class="form-group{% if form_errors(formCategory.description) %} has-error{% endif %}">
					{{ form_label(formCategory.description, "Description", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(formCategory.description) }}
                    <div class="col-sm-9">
						{{ form_widget(formCategory.description, {'attr': {'class': 'form-control'}}) }}
						<p class="help-block">La description n’est pas très utilisée par défaut, cependant de plus en plus de thèmes l’affichent.</p>
					</div>
				</div>

			</div>

			{{ form_rest(formCategory) }}

			<footer class="panel-footer">

                <div class="row">

                    <div class="col-md-9 col-md-offset-2">

		                <button type="submit" class="btn btn-primary">Mettre à jour</button>
						<a href="{{ path('mgn_admin_forum') }}" class="btn btn-default">annuler</a>
						
					</div>

				</div>

			</footer>

		</section>

        {{ form_rest(formCategory) }}

    {{ form_end(formCategory) }}

{% endblock %}
